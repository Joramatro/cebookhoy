(function(b,l){var n=0;b.fn.getPercentage=function(){return this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1)};b.fn.adjRounding=function(g){var a=b(this);g=a.find(g);a=a.parent().width()-b(g[0]).width();if(0!==a){b(g).css("position","relative");for(var h=0;h<g.length;h++)b(g[h]).css("left",a*h+"px")}return this};b.fn.carousel=function(g){if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var a=b.extend({slider:".carousel",slide:".testimonial",prevSlide:null,
nextSlide:null,slideHed:null,addPagination:!1,addNav:g!=l&&(g.prevSlide||g.nextSlide)?!1:!0,namespace:"carousel",speed:300},g),h=this,m=function(){var a=document.createElement("tester").style,c=("transitionProperty "+["Webkit","Moz","O","ms","Khtml"].join("TransitionProperty ")+"TransitionProperty").split(" "),b;for(b in c)if(a[c[b]]!==l)return!0;return!1},e={init:function(){n++;h.each(function(d){var c=b(this),k=c.find(a.slider),f=c.find(a.slide),q=f.length,p="margin-left "+a.speed/1E3+"s ease",
h="carousel-"+n+"-"+d;1>=f.length||(c.css({overflow:"hidden",width:"100%"}).attr("role","application"),k.attr("id",k[0].id||"carousel-"+n+"-"+d).css({marginLeft:"0px","float":"left",width:100*q+"%","-webkit-transition":p,"-moz-transition":p,"-ms-transition":p,"-o-transition":p,transition:p}).bind("carouselmove",e.move).bind("nextprev",e.nextPrev).bind("navstate",e.navState),f.css({"float":"left",width:100/q+"%"}).each(function(d){var c=b(this);c.attr({role:"tabpanel document",id:h+"-slide"+d});a.addPagination&&
c.attr("aria-labelledby",h+"-tab"+d)}),a.addPagination&&e.addPagination(),a.addNav&&e.addNav(),k.trigger("navstate",{current:0}))})},addNav:function(){h.each(function(d){d=b(this);var c=d.find(a.slider)[0].id,c=["",'\t<a href="#'+c+'" class="'+a.namespace+'-next"></a>','\t<a href="#'+c+'" class="'+a.namespace+'-prev"></a>',""].join("");a=b.extend(a,{nextSlide:"."+a.namespace+"-next",prevSlide:"."+a.namespace+"-prev"});d.prepend(c)})},addPagination:function(){h.each(function(d){var c=b(this),k=b('<ol class="'+
a.namespace+'-tabs" role="tablist navigation" />');c.find(a.slider);var f=c.find(a.slide);slideNum=f.length;for(associated="carousel-"+n+"-"+d;slideNum--;)d=b(f[slideNum]).find(a.slideHed).text()||"Page "+(slideNum+1),d=['<li role="presentation">','<a href="#'+associated+"-slide"+slideNum+'"',' aria-controls="'+associated+"-slide"+slideNum+'"',' id="'+associated+"-tab"+slideNum+'" role="tab">'+d+"</a>","</li>"].join(""),k.prepend(d);k.appendTo(c).find("li").keydown(function(a){var d=b(this),c=d.prev().find("a"),
d=d.next().find("a");switch(a.which){case 37:case 38:c.length&&c.trigger("click").focus();a.preventDefault();break;case 39:case 40:d.length&&d.trigger("click").focus(),a.preventDefault()}}).find("a").click(function(d){var f=b(this);"false"==f.attr("aria-selected")&&(f=-(100*f.parent().index()),c.find(a.slider).trigger("carouselmove",{moveTo:f}));d.preventDefault()})})},roundDown:function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)},navState:function(d,c){var k=b(this),f=k.find(a.slide),
e=-(c.current/100),h=b(f[e]);k.attr("aria-activedescendant",h[0].id);h.addClass(a.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(a.namespace+"-active-slide").attr("aria-hidden",!0);if(a.prevSlide||a.nextSlide)k=b('[href*="#'+this.id+'"]'),k.removeClass(a.namespace+"-disabled"),0==e?k.filter(a.prevSlide).addClass(a.namespace+"-disabled"):e==f.length-1&&k.filter(a.nextSlide).addClass(a.namespace+"-disabled");a.addPagination&&(f=h.attr("aria-labelledby"),f=b("#"+f),f.parent().addClass(a.namespace+
"-active-tab").siblings().removeClass(a.namespace+"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),f.attr({"aria-selected":!0,tabindex:0}))},move:function(d,c){var e=b(this);e.trigger(a.namespace+"-beforemove").trigger("navstate",{current:c.moveTo});if(m())e.adjRounding(a.slide).css("marginLeft",c.moveTo+"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){b(this).trigger(a.namespace+"-aftermove")});else e.adjRounding(a.slide).animate({marginLeft:c.moveTo+"%"},{duration:a.speed,
queue:!1},function(){b(this).trigger(a.namespace+"-aftermove")})},nextPrev:function(d,c){var k=b(this),f=k?k.getPercentage():0,h=k.find(a.slide),m="prev"===c.dir?0!=f:-f<100*(h.length-1),g=b('[href="#'+this.id+'"]');if(!k.is(":animated")&&m)switch(f="prev"===c.dir?0!=f%100?e.roundDown(f):f+100:0!=f%100?e.roundDown(f)-100:f-100,k.trigger("carouselmove",{moveTo:f}),g.removeClass(a.namespace+"-disabled").removeAttr("aria-disabled"),f){case 100*-(h.length-1):g.filter(a.nextSlide).addClass(a.namespace+
"-disabled").attr("aria-disabled",!0);break;case 0:g.filter(a.prevSlide).addClass(a.namespace+"-disabled").attr("aria-disabled",!0)}else f=e.roundDown(f),k.trigger("carouselmove",{moveTo:f})}};e.init(this);b(a.nextSlide+","+a.prevSlide).bind("click",function(d){var c=b(this),e=this.hash,f=c.is(a.prevSlide)?"prev":"next",e=b(e);if(c.is("."+a.namespace+"-disabled"))return!1;e.trigger("nextprev",{dir:f});d.preventDefault()}).bind("keydown",function(a){b(this);var c=this.hash;switch(a.which){case 37:case 38:b("#"+
c).trigger("nextprev",{dir:"next"});a.preventDefault();break;case 39:case 40:b("#"+c).trigger("nextprev",{dir:"prev"}),a.preventDefault()}});h.bind("dragSnap",{wrap:this,slider:a.slider},function(d,c){b(this).find(a.slider).trigger("nextprev",{dir:"left"===c.direction?"next":"prev"})});h.filter("[data-autorotate]").each(function(){var d,c=b(this),e=c.attr("data-autorotate"),f=c.find(a.slide).length,h=function(){var g=c.find(a.slider);switch(-(b(a.slider).getPercentage()/100)+1){case f:clearInterval(d);
d=setInterval(function(){h();g.trigger("nextprev",{dir:"prev"})},e);break;case 1:clearInterval(d),d=setInterval(function(){h();g.trigger("nextprev",{dir:"next"})},e)}};d=setInterval(h,e);c.attr("aria-live","polite").bind("mouseenter click touchstart",function(){clearInterval(d)})});return this}}})(jQuery);
$.event.special.dragSnap={setup:function(b){var l=$(this),n=function(a,b){var g=b?"margin-left 0.3s ease":"none";a.css({"-webkit-transition":g,"-moz-transition":g,"-ms-transition":g,"-o-transition":g,transition:g})},g=function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)};l.bind("snapback",function(a,b){var m=b.target,e=void 0!=m.attr("style")?m.getPercentage():0,e=!1===b.left?g(e)-100:g(e),d=document.body;n(m,!0);d.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");
d.style.transition||d.style.webkitTransition||d.style.MozTransition?m.css("marginLeft",e+"%"):m.animate({marginLeft:e+"%"},opt.speed)}).bind("touchstart",function(a){function h(a){var b=a.originalEvent.touches?a.originalEvent.touches[0]:a;d={time:(new Date).getTime(),coords:[b.pageX,b.pageY]};deltaX=Math.abs(e.coords[0]-b.pageX);deltaY=Math.abs(e.coords[1]-b.pageY);e&&!(deltaX<deltaY||15>deltaX)&&15<=deltaX&&(e.interacting=!0,c.css({"margin-left":k+100*((d.coords[0]-e.coords[0])/e.origin.width())+
"%"}),a.preventDefault())}var g=a.originalEvent.touches?a.originalEvent.touches[0]:a,e={time:(new Date).getTime(),coords:[g.pageX,g.pageY],origin:$(a.target).closest(b.wrap),interacting:!1},d,c=$(a.target).closest(b.slider),k=void 0!=c.attr("style")?c.getPercentage():0;n(c,!1);l.bind("gesturestart",function(a){l.unbind("touchmove",h).unbind("touchend",h)}).bind("touchmove",h).one("touchend",function(a){l.unbind("touchmove",h);n(c,!0);if(e&&d){var b=Math.abs(e.coords[0]-d.coords[0]),g=Math.abs(e.coords[1]-
d.coords[1]),k=e.coords[0]>d.coords[0];if(20<b&&b>g)a.preventDefault();else{e.interacting&&l.trigger("snapback",{target:c,left:k});return}a=e.origin.width()/4;-b>a||b>a?e.origin.trigger("dragSnap",{direction:k?"left":"right"}):l.trigger("snapback",{target:c,left:k})}e=d=void 0})})}};$(document).ready(function(){$(".testimonials-carousel").carousel({namespace:"mr-rotato"})});